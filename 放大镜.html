<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
      .boxleft {
        width: 400px;
        height: 500px;
        margin: 0 300px;
        float: left;
        position: relative;
      }

      .boxleft img {
        width: 400px;
        height: 500px;
      }

      .boxright {
        width: 500px;
        height: 500px;
        float: left;
        overflow: hidden;
        margin-left: -300px;
        position: relative;
      }

      .boxright img {
        width: 800px;
        height: 500px;
        display: none;
        position: absolute;
      }

      .mark {
        width: 250px;
        height: 250px;
        background-color: rgb(0, 0, 0, 0.6);
        z-index: 999;
        position: absolute;
        top: 0px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="boxleft">
      <img src="./放大镜/timg.jpg">
      <div class="mark"></div>
    </div>
    <div class="boxright">
      <img src="./放大镜/timg.jpg">
    </div>
  </body>
  <script type="text/javascript">
    var mark = document.querySelector('.mark')
    var boxLeft = document.querySelector('.boxleft')
    var boxRightImg = document.querySelector('.boxright img')

    boxLeft.onmouseover = function() {
      mark.style.display = 'block'
      boxRightImg.style.display = 'block'
    }
    boxLeft.onmouseout = function() {
      mark.style.display = 'none'
      boxRightImg.style.display = 'none'
    }

    boxLeft.onmousemove = function(e) {
      var e = e || window.event

      var markX = e.pageX - boxLeft.offsetLeft - mark.offsetWidth / 2
      var markY = e.pageY - boxLeft.offsetTop - mark.offsetHeight / 2

      if (markX < 0) {
        markX = 0
      } else if (markX > boxLeft.offsetWidth - mark.offsetWidth) {
        markX = boxLeft.offsetWidth - mark.offsetWidth;
      }

      if (markY < 0) {
        markY = 0
      } else if (markY > boxLeft.offsetHeight - mark.offsetWidth) {
        markY = boxLeft.offsetHeight - mark.offsetHeight
      }

      mark.style.left = markX + 'px'
      mark.style.top = markY + 'px'

      boxRightImg.style.left = -2 * markX + 'px'
      boxRightImg.style.top = -2 * markY + 'px'
    }
  </script>
</html>
